<!DOCTYPE html>
<html id="jet" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="The JSON Bus">
    <meta name="keywords" content="system bus,dbus alternative,web bus,json bus,lua,node.js,embedded,raspberry pi">
    <meta property="og:title" content="Jet">
    <meta property="og:url" content="http://lipp.github.io/jet">
    <meta property="og:description" content="The JSON Bus">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="css/bootstrap.min.css" media="screen">
    <link href="http://fonts.googleapis.com/css?family=Special+Elite" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/custom.css">
    <title>Jet</title>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-42875905-1', 'lipp.github.io');
      ga('send', 'pageview');
      
    </script>
  </head>
  <div class="border-top"></div>
  <body>
    <header class="container">
      <div class="row"><a href="https://github.com/lipp/jet"><img style="position: absolute; top: 0; right: 0; border: 0;" src="images/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
        <div class="span4 mega">JET</div>
        <div class="span8 tagline">The JSON Bus</div>
      </div>
      <div id="navi"><a href="./">Home</a><a href="architecture.html">Architecture</a><a href="fetch.html">Fetch</a></div>
    </header>
    <section class="container">
      <section><p>A Jet Bus is made of one Daemon and an arbitrary number of Peers. The Peers
communicate with the Daemon through network sockets. Thus Peers may run on the same
machine or another machine as long as a network connection between
each Peer and the Daemon is available. Concerning the Jet Bus, Peers only communicate with the
Daemon and never (directly) with the Peers. The distribution /
deployment of the Peers is not visible from the outside, thus allowing
arbitrary service distribution.</p>
<h1>Daemon</h1>
<p>A single Jet Bus must have one running Jet Daemon. At the moment there are two Daemon
implementations available:</p>
<ul>
<li><a href="http://github.com/lipp/lua-jet">lua-jet</a> for <a href="http://www.lua.org/">Lua</a></li>
<li><a href="http://github.com/lipp/node-jet">node-jet</a> for <a href="http://www.nodejs.org/">Node.js</a></li>
</ul>
<p>A Daemon serves these purposes:</p>
<ul>
<li>Routing</li>
<li>Caching</li>
<li>Filtering</li>
<li>Sorting</li>
</ul>
<p>It is listening on two ports (one for Websockets and one for &quot;raw&quot; TCP
protocol) for new Peers.</p>
<h1>Peer</h1>
<p>A single Jet Bus may have any number of Peers. By connecting to a daemon (either through
Websockets or through &quot;raw&quot; TCP) a Peer starts to exist. By using
Websockets, even a Browser may become a full featured Peer. A Peer may do
any of the following things:</p>
<ul>
<li>Call Methods</li>
<li>Set States</li>
<li>Fetch Values</li>
<li>Add/Remove Methods</li>
<li>Add/Remove States</li>
</ul>
<p>If the socket connection closes, all resources (routes, fetch rules,
etc) associated with this Peer instance at the Daemon are freed. </p>
<h1>Communication</h1>
<p>There are two Message protocols a Jet Daemon implementation must
support (on different ports): </p>
<ul>
<li><a href="http://tools.ietf.org/html/rfc6455">Websockets</a></li>
<li>&quot;Raw&quot; TCP Messages</li>
</ul>
<p>The <a href="http://tools.ietf.org/html/rfc6455">Websocket Protocol</a> is (very)
well defined and language bindings are broadly available. The &quot;Raw&quot;
TCP Message Protocol is a naive message framing protocol to allow more
primitive and faster Peer implementations.</p>
<h2>&quot;Raw&quot; TCP Format</h2>
<pre><code><span class="built_in">Len</span> := <span class="number">32</span>bit Unsigned <span class="built_in">Int</span> Big Endian
Content := Bytes
RawMessage := <span class="built_in">Len</span> Content</code></pre>
</section>
    </section>
    <footer class="container">
      <div class="row">
        <div class="span12"><span>&copy; 2013 </span><a href="https://github.com/lipp">Gerhard Preuss</a></div>
      </div>
    </footer>
  </body>
  <div class="border-bottom"></div>
</html>